<?xml version="1.0"?>
<zcl:cluster
	xmlns:zcl="http://zigbee.org/zcl/clusters"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:type="http://zigbee.org/zcl/types"
	xmlns:xi="http://www.w3.org/2001/XInclude"
	xsi:schemaLocation="http://zigbee.org/zcl/clusters cluster.xsd http://zigbee.org/zcl/types type.xsd"
	id="0005" revision="2" name="Scenes">
  <classification hierarchy="base" role="application" picsCode="S" primaryTransaction="1" />
  
  <type:type short="SceneName" name="SceneName" id="42" inheritsFrom="string">
    <restriction>
      <type:minLength value="0" />
      <type:maxLength value="16" />
    </restriction>
  </type:type>
  <type:type short="ExtensionFieldSetList" name="ExtensionFieldSetList" id="ff">
    <restriction>
      <type:sequence>
        <field name="ClusterId" type="uint16" />
        <field name="ExtensionFieldSet" type="octstr" array="true" />
      </type:sequence>
    </restriction>
  </type:type>
  
  <server>
    <attributes>
      <attribute id="0000" name="SceneCount" type="uint8" max="255" default="0" required="true" />
      <attribute id="0001" name="CurrentScene" type="uint8" max="255" default="0" required="true" />
      <attribute id="0002" name="CurrentGroup" type="uint16" max="65527" default="0" required="true" />
      <attribute id="0003" name="SceneValid" type="bool" default="0" required="true" />
      <attribute id="0004" name="NameSupport" type="map8" required="true">
        <bitmap>
          <element name="SceneNamesSupported" type="bool" mask="80" shiftRight="7" />
        </bitmap>
      </attribute>
      <attribute id="0005" name="LastConfiguredBy" type="EUI64" />
    </attributes>
    <commands>
      <command id="00" name="AddScene" required="true">
        <fields>
          <field name="GroupID" type="uint16" />
          <field name="SceneID" type="uint8" />
          <field name="TransitionTime" type="uint16" />
          <field name="SceneName" type="SceneName" />
          <field name="ExtensionFieldSets" type="ExtensionFieldSetList" array="true" arrayLengthSize="0" />
        </fields>
      </command>
      <command id="01" name="ViewScene" required="true">
        <fields>
          <field name="GroupID" type="uint16" />
          <field name="SceneID" type="uint8" />
        </fields>
      </command>
      <command id="02" name="RemoveScene" required="true">
        <fields>
          <field name="GroupID" type="uint16" />
          <field name="SceneID" type="uint8" />
        </fields>
      </command>
      <command id="03" name="RemoveAllScenes" required="true">
        <fields>
          <field name="GroupID" type="uint16" />
        </fields>
      </command>
      <command id="04" name="StoreScene" required="true">
        <fields>
          <field name="GroupID" type="uint16" />
          <field name="SceneID" type="uint8" />
        </fields>
      </command>
      <command id="05" name="RecallScene" required="true">
        <fields>
          <field name="GroupID" type="uint16" />
          <field name="SceneID" type="uint8" />
          <field name="TransitionTime" type="uint16" />
        </fields>
      </command>
      <command id="06" name="GetSceneMembership" required="true">
        <fields>
          <field name="GroupID" type="uint16" />
        </fields>
      </command>
      <command id="40" name="EnhancedAddScene">
        <fields>
          <field name="GroupID" type="uint16" />
          <field name="SceneID" type="uint8" />
          <field name="TransitionTime" type="uint16" />
          <field name="SceneName" type="SceneName" />
          <field name="ExtensionFieldSets" type="ExtensionFieldSetList" array="true" arrayLengthSize="0" />
        </fields>
      </command>
      <command id="41" name="EnhancedViewScene">
        <fields>
          <field name="GroupID" type="uint16" />
          <field name="SceneID" type="uint8" />
        </fields>
      </command>
      <command id="42" name="CopyScene">
        <fields>
          <field name="Mode" type="uint8">
            <bitmap>
              <element name="CopyAllScenes" type="bool" mask="01" />
            </bitmap>
          </field>
          <field name="GroupIdentifierFrom" type="uint16" />
          <field name="SceneIdentifierFrom" type="uint8" />
          <field name="GroupIdentifierTo" type="uint16" />
          <field name="SceneIdentifierTo" type="uint8" />
        </fields>
      </command>
    </commands>
  </server>
  <client>
    <commands>
      <command id="00" name="AddSceneResponse" required="true">
        <fields>
          <field name="Status" type="zclStatus" />
          <field name="GroupID" type="uint16" />
          <field name="SceneID" type="uint8" />
        </fields>
      </command>
      <command id="01" name="ViewSceneResponse" required="true">
        <fields>
          <field name="Status" type="zclStatus" />
          <field name="GroupID" type="uint16" />
          <field name="SceneID" type="uint8" />
          <field name="TransitionTime" type="uint16" />
          <field name="SceneName" type="SceneName" />
          <field name="ExtensionFieldSets" type="ExtensionFieldSetList" array="true" arrayLengthSize="0" />
        </fields>
      </command>
      <command id="02" name="RemoveSceneResponse" required="true">
        <fields>
          <field name="Status" type="zclStatus" />
          <field name="GroupID" type="uint16" />
          <field name="SceneID" type="uint8" />
        </fields>
      </command>
      <command id="03" name="RemoveAllScenesResponse" required="true">
        <fields>
          <field name="Status" type="zclStatus" />
          <field name="GroupID" type="uint16" />
        </fields>
      </command>
      <command id="04" name="StoreSceneResponse" required="true">
        <fields>
          <field name="Status" type="zclStatus" />
          <field name="GroupID" type="uint16" />
          <field name="SceneID" type="uint8" />
        </fields>
      </command>
      <command id="06" name="GetSceneMembershipResponse" required="true">
        <fields>
          <field name="Status" type="zclStatus" />
          <field name="Capacity" type="uint8">
            <restriction>
              <type:special value="00" name="NoFurtherScenesMayBeAdded" />
              <type:enumeratedRange min="01" max="fd" />
              <type:special value="fe" name="AtLeastOneFurtherSceneMayBeAdded" />
              <type:special value="ff" name="Unknown" />
            </restriction>
          </field>
          <field name="GroupID" type="uint16" />
          <field name="SceneList" type="uint8" array="true" />
        </fields>
      </command>
      <command id="40" name="EnhancedAddSceneResponse">
        <fields>
          <field name="Status" type="zclStatus" />
          <field name="GroupID" type="uint16" />
          <field name="SceneID" type="uint8" />
        </fields>
      </command>
      <command id="41" name="EnhancedViewSceneResponse">
        <fields>
          <field name="Status" type="zclStatus" />
          <field name="GroupID" type="uint16" />
          <field name="SceneID" type="uint8" />
          <field name="TransitionTime" type="uint16" />
          <field name="SceneName" type="SceneName" />
          <field name="ExtensionFieldSets" type="ExtensionFieldSetList" array="true" arrayLengthSize="0" />
        </fields>
      </command>
      <command id="42" name="CopySceneResponse">
        <fields>
          <field name="Status" type="zclStatus" />
          <field name="GroupIdentifierFrom" type="uint16" />
          <field name="SceneIdentifierFrom" type="uint8" />
        </fields>
      </command>
    </commands>
  </client>
</zcl:cluster>